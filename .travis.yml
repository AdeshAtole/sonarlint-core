language: java
sudo: false

jdk:
  - oraclejdk8

install: true
script: ./travis.sh

env:
  matrix:
    - TARGET=CI
    - TARGET=IT SQ_VERSION=4.5.4 JAVA_VERSION=3.8 JAVASCRIPT_VERSION=2.9 PHP_VERSION=2.7 PYTHON_VERSION=1.5 COBOL_VERSION=2.8
    - TARGET=IT SQ_VERSION=5.6 JAVA_VERSION=LATEST_RELEASE JAVASCRIPT_VERSION=LATEST_RELEASE PHP_VERSION=LATEST_RELEASE PYTHON_VERSION=LATEST_RELEASE COBOL_VERSION=LATEST_RELEASE
    - TARGET=IT SQ_VERSION=DEV JAVA_VERSION=LATEST_RELEASE JAVASCRIPT_VERSION=LATEST_RELEASE PHP_VERSION=LATEST_RELEASE PYTHON_VERSION=LATEST_RELEASE COBOL_VERSION=LATEST_RELEASE

cache:
  directories:
    - '$HOME/.m2/repository'
    # for integration tests and analysis
    - $HOME/.sonar

notifications:
  email: false

addons:
  apt:
    packages:
      # upgrade java 8 as the default version 1.8.0_31 prevents from compiling sources
      # https://github.com/travis-ci/travis-ci/issues/4042
      - oracle-java8-installer
