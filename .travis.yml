language: java
sudo: false

jdk:
  - oraclejdk8

install: true
script: ./travis.sh

cache:
  directories:
    - '$HOME/.m2/repository'
    # for integration tests and analysis
    - $HOME/.sonar

before_cache:
  # remove all the artifacts (JAR, ZIP) that are installed in local repo because of mvn deploy
  - rm -rf $HOME/.m2/repository/org/sonarsource/sonarlint/core

addons:
  apt:
    packages:
      # upgrade java 8 as the default version 1.8.0_31 prevents from compiling sources
      # https://github.com/travis-ci/travis-ci/issues/4042
      - oracle-java8-installer

notifications:
  email: false
  webhooks:
    urls:
      - secure: "ENkeW/CdeqekizUdJOUSxYu7kbm9wK9equa6Qr4cjoiWHuyeI8MIpvs9NXeUkZTwlChYdR0MIwSaEctvqZFq4Ti4LG+s+QWwUGIWT4Vwf5CCTdd5TVmmeWWotPPwMPoFl0K+mTw/wtOi2nUuhc4BIptR4iFWHy1a3eqLlBndbyYPCjVuYbXUNT0Qzc60EKPj/DM+RHunG8OUGZRNVycIE8MVJmQJg7D5+pLSL2Z16biumLaE83jjhbc6sVPCZaa4hyuxKS1qnIE+gouOXVABAgSKmJNQV1fOj3cQ0bt8BeRdo3uxc7fTqW+aT8HX6HeWBSGQvg9a13Nb9aD8tSLRjyGiP2KyLQn/T+CgN5JJnSUZyGxn+a5yvozqAtbwwzxxTQdTpfrDhtU0FQLsMHyaC65ZkQIK1L/rUSMUUaNbcERmjLcFfQcuCAcHiWFEyuPo4ZZDOaYvwzPZStx2mHhIxLyEeGJ6gPqHpe0foset0lPueJ1p/PE/O0DQP20GeHIdpVOVCTSlvIohR6iUeQd8LasiAovvdkQEe96M62lMnO3afcq9c3FzYaJluqTrelH/64+LpT4yRlBrvphx35WnMDf6eWSq24MiuBZ6dy399rQ7hM9TJ9GkDSjHIqQFS8k3uU56lR3kvPAfCjokru2vINB9smb/0QIcltQBdZbHGU8="
    on_start: always
